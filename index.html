<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-dark.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <title>Exomlgen by sarathsp06</title>
  </head>

  <body>

    <header>
      <div class="container">
        <h1>Exomlgen</h1>
        <h2>Flask server that servs exoml as an echoserver aswell as a server that supports verbs</h2>

        <section id="downloads">
          <a href="https://github.com/sarathsp06/exomlgen/zipball/master" class="btn">Download as .zip</a>
          <a href="https://github.com/sarathsp06/exomlgen/tarball/master" class="btn">Download as .tar.gz</a>
          <a href="https://github.com/sarathsp06/exomlgen" class="btn btn-github"><span class="icon"></span>View on GitHub</a>
        </section>
      </div>
    </header>

    <div class="container">
      <section id="main_content">
        <p><a href="https://gitter.im/sarathsp06/exomlgen?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge"><img src="https://badges.gitter.im/sarathsp06/exomlgen.svg" alt="Join the chat at https://gitter.im/sarathsp06/exomlgen"></a></p>

<h2>
<a id="how-to-run-the-server" class="anchor" href="#how-to-run-the-server" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>How to run the Server</h2>

<pre><code>git clone https://github.com/sarathsp06/exomlgen.git
sudo pip install -r exomlgen/requirements.txt
python -m exomlgen
</code></pre>

<p><strong>NOTE</strong> : python2.6 + is required</p>

<h3>
<a id="following-code-snipets-shows-how-to-create-and-retrieve-static-xmls" class="anchor" href="#following-code-snipets-shows-how-to-create-and-retrieve-static-xmls" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Following code snipets shows how to create and retrieve static xmls</h3>

<h4>
<a id="sample-create-request-put" class="anchor" href="#sample-create-request-put" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Sample Create Request [PUT]</h4>

<hr>

<p>without digits</p>

<pre><code>curl -XPUT http://127.0.0.1:8080/echo/SASASA/2121 \
-d '&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;Response&gt;
    &lt;Say&gt;Hello&lt;/Say&gt;
&lt;/Response&gt;' \
-H "Content-Type: text/plain"
</code></pre>

<p>with digits</p>

<pre><code>curl -XPUT http://127.0.0.1:8080/echo/SASASA/2121?digits=12 \
-d '&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;Response&gt;
    &lt;Say&gt;Hello after dtmf 12&lt;/Say&gt;
&lt;/Response&gt;' \
-H "Content-Type: text/plain"
</code></pre>

<h4>
<a id="sample-read-request-post-and-get" class="anchor" href="#sample-read-request-post-and-get" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Sample Read Request [POST and GET]</h4>

<hr>

<p>Without digits</p>

<pre><code>curl  http://127.0.0.1:8080/echo/SASASA/2121
</code></pre>

<p>With digits</p>

<pre><code>curl  http://127.0.0.1:8080/echo/SASASA/2121?digits=12
</code></pre>

<h3>
<a id="following-code-snipets-shows-how-to-use-exomlgen-server-to-get-exoml-verbs-dynamically-generated" class="anchor" href="#following-code-snipets-shows-how-to-use-exomlgen-server-to-get-exoml-verbs-dynamically-generated" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Following code snipets shows how to use exomlgen server to get exoml verbs dynamically generated</h3>

<hr>

<h4>
<a id="dial" class="anchor" href="#dial" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Dial</h4>

<hr>

<p>The following will return a dial verb with +919742033616 as the number to dial</p>

<pre><code> curl -XGET  "http://127.0.0.1:8080/verb/dial?number=%2B919742033616
</code></pre>

<h2>
<a id="configuration" class="anchor" href="#configuration" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Configuration</h2>

<ol>
<li>Datastore contains the xmls</li>
<li>
<p>There are two ways to put exoml and use it</p>

<ol>
<li>make a put request in the following ormat</li>
</ol>

<pre><code>curl -XPUT http://127.0.0.1:8080/echo/SASASA/2121 \
-d '&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;Response&gt;
    &lt;Say&gt;Hello&lt;/Say&gt;
&lt;/Response&gt;' \
-H "Content-Type: text/plain"
</code></pre>

<ol>
<li>Put the exoml inside folder datastore/[scenario_name]/[xml_name]</li>
</ol>
</li>
<li>For IVR/Menu driven flows put xml for curresponding digits pressed in the same folder as parent with and same file name and the digits seperated by a underscore</li>
</ol>

<h2>
<a id="note" class="anchor" href="#note" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>NOTE</h2>

<ol>
<li>If there is no curresponding file for the test/id?digits= combination Hangup will be returned</li>
<li>For DTMF If digits is wrong parent menu will be responded</li>
</ol>
      </section>
    </div>

    
  </body>
</html>
